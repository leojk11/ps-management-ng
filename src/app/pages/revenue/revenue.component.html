<div class="w-full h-full p-2" *ngIf="revenueStore.state$ | async as state">
    <div class="card shadow-md">
        <ng-container *ngIf="state.totalEarningLoaded">
            <div class="revenue-item">
                <div class="label">
                    <label>Денес: </label>
                </div>
                <div class="info">
                    <span><b>{{ state.totalEarning.daily_earning }}</b> МКД</span>
                </div>
            </div>

            <div class="revenue-item mt-2">
                <div class="label">
                    <label>Овој месец: </label>
                </div>
                <div class="info">
                    <span><b>????</b> МКД</span>
                </div>
            </div>
    
            <div class="revenue-item mt-2">
                <div class="label">
                    <label>Оваа година: </label>
                </div>
                <div class="info">
                    <span><b>{{ state.totalEarning.yearly_earning }}</b> МКД</span>
                </div>
            </div>
        </ng-container>
        <div 
            *ngIf="!state.totalEarningLoaded"
            class="w-full h-full flex justify-center align-center">
            <app-spinner></app-spinner>
        </div>
    </div>

    <div class="card mt-7 shadow-md">
        <div class="calendars">
            <p-calendar
                placeholder="ден..."
                appendTo="body"
                dateFormat="dd"
                (onSelect)="testDateChange($event)"
            ></p-calendar>
            <p-calendar
                placeholder="месец..."
                appendTo="body"
                view="month"
                dateFormat="mm"
            ></p-calendar>
            <p-calendar
                placeholder="година..."
                appendTo="body"
                view="year"
                dateFormat="yy"
            ></p-calendar>
        </div>

        <div class="buttons mt-3">
            <button
                pButton
                label="Филтрирај"
            ></button>
        </div>

        <ng-container *ngIf="state.loaded">
            <div class="revenues mt-3">
                <app-single-revenue
                    *ngFor="let revenue of state.revenues"
                    [revenue]="revenue"
                ></app-single-revenue>
            </div>
        </ng-container>

        <div 
            *ngIf="!state.loaded"
            class="w-full h-full flex justify-center align-center mt-10">
            <app-spinner></app-spinner>
        </div>
    </div>
</div>