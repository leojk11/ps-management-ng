<div 
    class="home-drink shadow-md p-2 mb-2"
    (click)="toggleEditModal.emit(drink)"
>
    <div class="label">
        <p>{{ drink.name }}</p>
    </div>

    <div class="time">
        <p>{{ drink.price }} МКД</p>
    </div>

    <div class="buttons">
        <button
            pButton
            icon="pi pi-shopping-cart"
            (click)="sellClick($event)"
        ></button>
    </div>
</div>

<p-dialog
    [(visible)]="showSellDialog"
    [modal]="true"
    [header]="drink.name"
    [dismissableMask]="true"
    (onHide)="resetSellModal()"
>
    <div class="form-group">
        <div class="label">
            <label>Залиха:</label>
        </div>
        <div class="input">
            {{ drink.total_amount }}
        </div>
    </div>

    <div class="form-group">
        <div class="label">
            <label>Количина:</label>
        </div>
        <div class="input">
            <p-inputNumber
                [(ngModel)]="amountToSell"
                [showButtons]="true"
                (onInput)="calculateFinalPrice($event)"
            ></p-inputNumber>
        </div>
    </div>

    <div class="form-group">
        <div class="label">
            <label>Вкупно:</label>
        </div>
        <div class="input">
            {{ totalPrice }}
        </div>
    </div>

    <div class="flex justify-end mt-5">
        <button
            pButton
            label="Sell"
            (click)="sell()"
        ></button>
    </div>
</p-dialog>

